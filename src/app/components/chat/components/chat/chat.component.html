<div class="relative flex h-[80vh] flex-col gap-y-4 overflow-y-auto px-2">
    @if (form) {
        <form
            [formGroup]="form"
            (ngSubmit)="handleSubmit()"
            class="sticky bottom-2 left-2 right-2 flex flex-col items-center justify-between pt-2 md:flex-row md:gap-x-4"
        >
            <sm-input-text
                class="w-full"
                [formControlName]="'message'"
            ></sm-input-text>
            <sm-button [type]="'submit'" class="mt-2" (click)="handleSubmit()">
                Send
            </sm-button>
        </form>
    }
    <div class="flex flex-col-reverse gap-y-4">
        @for (message of messages$$(); track $index) {
            <sm-chat-message
                [message]="message"
                [adminMode]="commandMode$$()"
                class="border-t border-tertiary-300 dark:border-tertiary-300"
            ></sm-chat-message>
        }
    </div>
</div>
